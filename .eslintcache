[{"E:\\cascience-proj-demo\\src\\index.js":"1","E:\\cascience-proj-demo\\src\\App.js":"2","E:\\cascience-proj-demo\\src\\upload_component.js":"3"},{"size":209,"mtime":1609328994035,"results":"4","hashOfConfig":"5"},{"size":1188,"mtime":1613138946592,"results":"6","hashOfConfig":"5"},{"size":1596,"mtime":1609330045909,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"ok9qrp",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"13","messages":"14","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15","usedDeprecatedRules":"10"},"E:\\cascience-proj-demo\\src\\index.js",[],["16","17"],"E:\\cascience-proj-demo\\src\\App.js",[],"E:\\cascience-proj-demo\\src\\upload_component.js",["18"],"import React from 'react';\r\nimport { Upload, message } from 'antd';\r\nimport { InboxOutlined } from '@ant-design/icons';\r\n\r\nconst { Dragger } = Upload;\r\n\r\n// class DragUpload extends React.Component {\r\n  \r\n// }\r\n\r\nfunction processRequest({ onSuccess, data, filename, file}) {\r\n  console.log(onSuccess, data, filename, file);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJpgOrPng) {\r\n    message.error('只能上传JPG或PNG格式的文件！');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    message.error('图片大小必须小于2MB！');\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n}\r\n\r\nfunction loadImage(callback) {\r\n  const { file, onSuccess } = callback;\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.addEventListener('load', () => {\r\n    const imageData = reader.result;\r\n    this.setState({\r\n      imageData,\r\n      imageName: file.name,\r\n      loading: false,\r\n    });\r\n    onSuccess();\r\n    console.log(this.state)\r\n  });\r\n}\r\n\r\nexport const DragUpload = () => {\r\n  return (\r\n    <Dragger\r\n      multiple={false}\r\n      customRequest={processRequest}\r\n      beforeUpload={beforeUpload}\r\n    >\r\n      <p className=\"ant-upload-drag-icon\">\r\n        <InboxOutlined />\r\n      </p>\r\n      <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n      <p className=\"ant-upload-hint\">\r\n        Support for a single or bulk upload. Strictly prohibit from uploading company data or other\r\n        band files\r\n      </p>\r\n  </Dragger>\r\n  );\r\n}",{"ruleId":"19","replacedBy":"20"},{"ruleId":"21","replacedBy":"22"},{"ruleId":"23","severity":1,"message":"24","line":27,"column":10,"nodeType":"25","messageId":"26","endLine":27,"endColumn":19},"no-native-reassign",["27"],"no-negated-in-lhs",["28"],"no-unused-vars","'loadImage' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]